网络协议一共有几层/网络的五层模型，能具体讲讲他们的协议吗
1. 物理层
把电脑连接起来的物理手段（双绞线等），规定了网络的一些电气特性，作用是传送0和1的电信号
2. 链路层
单纯的0，1无意义，规定解读方式，确定0和1的分组方式
- 以太网协议
一组电信号组成一个数据包“帧”，分为head和data。
  - head固定为18个字节，包含：发送者，接收者，数据类型等
  - data为46-1500字节
  - 合计64-1518字节

- MAC地址
所有连网设备都必须有“网卡”接口，数据包从一个网卡传送到另一网卡，网卡地址就是MAC地址，独一无二的MAC地址，长度为48个二进制位

00-B0-D0-86-BB-F7，前半部分为厂商编号，后半部分为网卡流水号

- 广播
以太网向所有计算机发送数据包，计算机自己判断自己的MAC地址是否是接收方。

若两台电脑不在同一个子网，就无法知道对方的MAC地址，要经过网关转发

3. 网络层（Network Layer)—— “主机到主机”的通信
以太网是以广播方式发送帧，局限在发送者的子网络

互联网是无数子网络共同组成的一个巨型网络。

同属一个子网——“广播”发送；否则，——“路由”方式发送

网络层引进一套新地址，使我们能区分计算机是否属于同一个子网络，即“网址”。

MAC地址绑定在网卡上，网址由管理员分配，二者随机组合，并无联系。通常先处理网址，再是MAC地址

- IP协议 —— 1）为计算机分配IP地址， 2）确定哪些地址在同一个子网络中

IP地址由32位组成，如172.16.254.1， 即 10101100.00010000.11111110.00000001

子网掩码为32位，网络号 + 主机号，如网络部分为1，主机部分为0，就是255.255.255.0

将IP地址和子网掩码进行与（AND）操作，判断是否处于同一子网络

- IP数据包

分为head和data，总长最大为65535字节

head部分包含：版本，长度，IP地址等，20～60字节

总的网络数据包就是，以太网head + 以太网data(IP数据包head + IP数据包data)

- ARP协议
IP地址经过ARP协议转换为MAC地址，1）不在同一网络，则把数据包送到网关，2）在同一网络，用ARP得到MAC地址

发送数据包，其中包含要查询的IP地址，对方MAC地址这一栏填FF：FF：FF：FF：FF：FF，即“广播”地址

理解什么是协议，了解 TCP/IP网络协议族的构成，每层协议在应用程序中发挥的作用
有哪些协议是可靠， TCP有哪些手段保证可靠交付

4. 传输层（Transport Layer）—— “端口到端口”的通信

主机 + 端口 =》 socket

需要一个参数，表示数据包供哪个程序（进程）使用————》端口（port)

port，是每个使用网卡的程序的编号。port为16位，0～65535，其中 0～1023被系统占用，用户选 > 1023 的端口

每个数据包发送到主机的特定端口，不同程序分别取数据。

- UDP协议

UDP数据包，分为head和data，总长不超过65535字节

head为8字节，包含：发送端口，接收端口

总的网络数据包就是，以太网head + 以太网data(IP数据包head + IP数据包data（TCP/UDP head + data即应用层数据包）)

UDP可靠性差，无法知道对方是否收到。

- TCP协议

可以认为是有确认机制的UDP协议，每发出一个数据包都要求确认，能确保数据不遗失。

TCP数据包没有长度限制，但最好不超过IP数据包的长度，head为20字节。

5. 应用层——规定应用程序的数据格式，面向用户

应用程序收到“传输层”的数据，要进行解读。

6. 动态IP地址

计算机开机后，会自动分配到一个IP地址，使用DHCP协议（应用层协议）

- DHCP协议

每个子网中，有一台计算机管理本网络所有的IP地址 ---》DHCP服务器

新的计算机加入网络，必须向DHCP服务器发送一个“DHCP请求”数据包，申请IP地址及相关参数

建立在UDP协议之上，应用层数据包里装的就是DHCP数据包。

以太网head（本地MAC地址，DHCP服务器MAC地址FF：FF：FF：FF：FF：FF广播）
 + IP数据包head（本机IP 0.0.0.0， 对方 IP255.255.255.255）
 + UDP head
 + DHCP 数据包

上网设置：
 - 本机IP地址
 - 子网掩码
 - 网关IP地址
 - DNS IP地址

- DNS协议 —— 将网址转换成IP地址

向DNS服务器发送一个DNS数据包（端口53），DNS服务器响应，给出IP地址，子网掩码与两个IP地址相与，看是否在同一个子网，不在的话就先发到网关，进行转发。

DNS的作用、 DNS解析的详细过程， DNS优化原理
什么是迭代查询和递归查询，什么是一级域名、二级域名
域名发散和域名收敛
- tcp与udp的区别
什么是tcp流，什么是http流
域名解析时是tcp还是udp
- TCP连接的特点，TCP连接如何保证安全可靠的？
  谈谈你对TCP三次握手和四次挥手的理解/详细原理
  为什么要使用这种机制？为什么TCP连接需要三次握手，两次不可以吗
  tcp的三次握手和四次挥手画图（当场画写ack 和 seq的值）？
  tcp属于哪一层（1 物理层 -> 2 数据链路层 -> 3 网络层(ip)-> 4 传输层(tcp) -> 5 应用层(http)）
  tcp的滑动窗口
- A、B 机器正常连接后，B 机器突然重启，问 A 此时处于 TCP 什么状态
如果A 与 B 建立了正常连接后，从未相互发过数据，这个时候 B 突然机器重启，问 A 此时处于 TCP 什么状态？如何消除服务器程序中的这个状态？（超纲题，了解即可）

