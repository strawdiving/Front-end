# Javascript中的Event Loop
## 浏览器环境下JS引擎的事件循环

事件队列（Task Queue）
JS引擎遇到一个异步事件后，不会一直等待其返回结果，而是将这个事件挂起，继续执行栈中的其他任务。当一个异步时间返回结果后，js将这个事件加入与当前执行栈不同的另一个队列，即事件队列中。
被放入事件队列中的时间不会立刻执行其回调，而是等待当前执行栈中的所有任务都执行完毕，主线程处于闲置状态时，主线程会去查找事件队列是否有任务。如果有，主线程会从中取出排在第一个的事件，并把这个事件对应的回调放入执行栈中，然后执行其中的同步代码。
如此反复，就形成了一个循环，称为“事件循环”。

不同的异步任务分为两类。微任务（micro task）和宏任务(macro task)。
异步事件返回结果后放到任务队列中时，根据异步事件的类型，会被对应地放到macro task 或 micro task中。在当前执行栈为空时，主线程会查看微任务队列是否有事件存在，依次执行微任务队列中的事件对应的回调之后，再去宏任务队列中执行.

